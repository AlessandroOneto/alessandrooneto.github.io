:root {
    --primary-blue: #002677;
    --accent-green: #007C58;
    --bg-off-white: #f7f7f7;
    --white: #ffffff;
    --text-dark: #2d2d2d;
    --font-title: 'Roboto Slab', serif;
    --font-body: 'Fira Sans', sans-serif;
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    background-color: var(--bg-off-white);
    color: var(--text-dark);
    font-family: var(--font-body);
    line-height: 1.6;
    padding-top: 80px; /* Spazio per la navbar fissa */
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
}

/* NAVBAR REVISITED */
.navbar {
    background-color: var(--white);
    border-bottom: 3px solid var(--primary-blue);
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 70px;
    z-index: 1000;
}

.nav-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    height: 100%;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 15px; /* Margine interno che tiene l'hamburger lontano dal bordo */
    position: relative; /* Sicurezza per il posizionamento dei figli */
}

/* Assicuriamoci che il logo non spinga troppo l'hamburger */
.logo {
    font-family: var(--font-title);
    font-weight: 700;
    color: var(--primary-blue);
    font-size: 1.1rem; /* Leggermente ridotto per mobile */
    white-space: nowrap;
    overflow: hidden;
}

.hamburger {
    display: none; /* Nascosto su desktop */
    flex-shrink: 0; /* Impedisce che si rimpicciolisca */
    z-index: 1001;
}

.nav-menu ul {
    display: flex;
    list-style: none;
    gap: 20px;
}

.nav-menu a {
    text-decoration: none;
    color: var(--text-dark);
    font-weight: 500;
    font-size: 0.95rem;
    transition: color 0.3s;
}

.nav-menu a:hover, .nav-menu a.active {
    color: var(--accent-green);
}

/* LAYOUT A DUE COLONNE */
.page-wrapper {
    display: flex;
    gap: 40px;
    margin-top: 30px;
}

.sidebar {
    flex: 0 0 280px; /* Larghezza fissa su desktop */
}

.profile-photo img {
    width: 100%;
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    margin-bottom: 20px;
}

/* Di default questa sezione è nascosta (Desktop) */
.mobile-photo-container {
    display: none;
}

/* Regole per Mobile (sotto i 768px) */
@media (max-width: 768px) {
    .mobile-photo-container {
        display: block;
        width: 100%;
        margin: 0;
        padding: 0;
        overflow: hidden;
    }

    .mobile-photo {
        width: 100%;          /* Occupa tutta la larghezza dello schermo */
        height: auto;         /* Mantiene le proporzioni originali */
        max-height: 400px;    /* Opzionale: evita che la foto diventi troppo lunga verticalmente */
        display: block;
        object-fit: cover;    /* Taglia leggermente l'immagine se necessario per riempire il width */
        object-position: center 20%; /* Sposta l'inquadratura leggermente verso l'alto */
    }

    /* Assicuriamoci che la vecchia foto profilo rimanga nascosta 
       se è dentro la sidebar che viene nascosta o spostata */
    .profile-photo, .profile-image {
        display: none !important;
    }
}

/* --- CONTACTS (PROJECT-STYLE) --- */
.contacts {
    background: #ffffff;
    padding: 25px;
    margin-top: 30px;
    
    /* Stile mutuato dai Projects */
    border: 1px solid #e1e4e8;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    
    /* Il tocco di verde che richiama il tuo brand */
    border-top: 4px solid var(--accent-green); 
    
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

/* Effetto hover coerente con i progetti */
.contacts:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);
}

.contacts h3 { 
    font-family: 'Roboto Slab', serif; 
    font-size: 1.35rem; 
    margin-bottom: 5px; 
    color: var(--text-dark);
}

.contacts h4 { 
    font-family: 'Roboto Slab', serif; 
    color: var(--accent-green); 
    font-weight: 500; 
    font-size: 1.1rem;
    margin-bottom: 5px; 
}

.contacts h5 { 
    font-family: 'Roboto Slab', serif; 
    color: #666; 
    font-weight: 300; 
    font-size: 0.95rem; 
    line-height: 1.4;
}

/* Forza il box a incolonnare i suoi figli (h3, h4, h5, contact-details) */
.contacts.project-card {
    display: flex !important;
    flex-direction: column !important; 
    align-items: flex-start; /* Allinea a sinistra su desktop */
    gap: 5px;
}

/* UNIFORMITÀ TITOLI TESI / TOPICS */
/* Aggiungiamo :not(.alert) così non sovrascrive il rosso */
.details p:not(.mentor):not(.alert),
.project-card p:not(.mentor):not(.alert) {
    font-size: 0.9rem !important;
    font-style: italic !important;
    color: #555 !important;
    line-height: 1.4;
    font-weight: 400 !important;
}

/* Stile per gli avvisi Job Market - Ora vincerà lui */
.alert {
    color: #b31b1b !important;
    font-weight: 700 !important;
    font-style: normal !important;
    font-size: 0.85rem !important;
    margin-top: 8px !important;
    display: block !important;
}

/* Gestione dei dettagli (Email/Office) */
.contact-details {
    display: flex;
    flex-direction: column; /* Su Desktop restano uno sotto l'altro */
    gap: 15px;
    margin-top: 15px;
    width: 100%;
    border-top: 1px solid #eee; /* Riga di separazione opzionale */
    padding-top: 15px;
}

@media (max-width: 850px) {
    .contacts.project-card {
        align-items: center !important; 
        text-align: center !important;
        padding: 15px !important;
        width: 100% !important; /* Occupa tutta la larghezza disponibile */
        max-width: 100%;
        margin-left: 0;
        margin-right: 0;
    }

    .contact-details {
        flex-direction: row !important; /* Forza le due colonne */
        flex-wrap: wrap; /* Se lo schermo è troppo stretto, va a capo invece di rompere la pagina */
        justify-content: center;
        gap: 20px;
        margin-top: 15px;
        width: 100%;
    }

    .contact-group {
        flex: 1 1 140px; /* Base di 140px per colonna */
        min-width: 0;
    }
}


.content {
    flex: 1;
    background: var(--white);
    padding: 40px;
    border-radius: 8px;
    min-height: 80vh;
}

/* AGGIORNAMENTO: Allineamento giustificato per i paragrafi del corpo principale */
.content p {
    text-align: justify;
    hyphens: auto; /* Attiva la sillabazione automatica */
    -webkit-hyphens: auto;
    -ms-hyphens: auto;
    margin-bottom: 1.5rem; /* Spazio tra i paragrafi */
}

/* Manteniamo i titoli e le liste allineati a sinistra per una migliore leggibilità */
.content h1, .content h2, .content h3, .content ul, .content ol, .content li {
    text-align: left;
}

h1, h2 {
    font-family: var(--font-title);
    color: var(--primary-blue);
    margin-bottom: 20px;
    margin-top: 20px;
}


/* Stile per le liste di notizie */

.news-list {
    list-style: none;
    margin-top: 20px;
}

.news-list li {
    padding: 10px 0;
    border-bottom: 1px solid #eee;
    border-top: 1px solid #eee;
}


/* --- STILE LINK (REFERENZE) --- */

/* Applichiamo lo stile ai link nel corpo del testo */
.content a, .funding-section a, .sidebar a{
    color: var(--primary-blue);
    text-decoration: dotted underline; /* Sottolineatura tratteggiata */
    text-underline-offset: 3px; /* Distanza della linea dal testo per pulizia */
    transition: all 0.2s ease-in-out;
}

/* Effetto al passaggio del mouse (Hover) */
.content a:hover, .funding-section a:hover {
    text-decoration: underline solid 1px; /* Diventa linea continua */
    color: var(--accent-green); /* Opzionale: cambia leggermente colore al blu */
}

/* Evitiamo che i link del menu abbiano la sottolineatura (per pulizia estetica) */
.nav-menu a {
    text-decoration: none;
}

.nav-menu a:hover {
    text-decoration: none;
    /* Manteniamo solo il cambio colore per la navigazione */
}



/* --- BLOCCO ASSIOMI --- */

/* Gestione blocco Assiomi */
.axioms-block {
    font-size: 0.85rem; /* Corrisponde a 'smaller' */
    font-style: italic;
    color: #555;
    padding-bottom: 20px;
}

.axioms-block p {
    margin-bottom: 5px !important; /* Riduce drasticamente lo spazio tra testo e inizio lista */
    text-align: justify;
}

.axioms-block ol {
    margin-top: 0;        /* Elimina lo spazio sopra la lista */
    padding-left: 25px;   /* Rientro per i numeri */
}

.axioms-block li {
    margin-bottom: 4px;   /* Spazio tra un punto e l'altro della lista */
    text-align: justify;
}


/* --- PROGETTI IN EVIDENZA --- */

/* Stile per la sezione Progetti in evidenza */
#featured-project {
    margin-top: 40px;
}

.project-card {
    background-color: #fdfdfd; /* Leggermente diverso dallo sfondo del corpo */
    border: 1px solid #eee;
    border-left: 5px solid #ccc; /* Richiama il verde per i progetti attivi */
    padding: 25px;
    border-radius: 4px;
    box-shadow: 2px 2px 10px rgba(0,0,0,0.02);
    margin-bottom: 40px; /* Adjust this value (e.g., 30px, 50px) to your liking */
}

.project-card:last-child {
    margin-bottom: 0; /* Removes the extra space under the last card */
}

.project-card h3 {
    color: var(--primary-blue);
    margin-bottom: 15px;
    font-family: var(--font-title);
}

.project-card p {
    font-size: 0.95rem;
    margin-bottom: 12px !important;
}

/* Call to action nel progetto */
.project-card .cta {
    font-weight: 500;
    margin-top: 15px;
    border-top: 1px solid #eee;
    padding-top: 10px;
}

/* Il contenitore che affianca logo e titolo */
.project-header {
    display: flex;
    align-items: center; /* Allinea verticalmente al centro */
    gap: 15px;           /* Spazio tra il logo e il testo */
    margin-bottom: 20px; /* Spazio sotto l'intestazione prima dei paragrafi */
}

/* Stile per l'immagine del logo */
.project-logo {
    max-height: 50px;    /* Altezza massima: regolala in base al tuo logo */
    width: auto;         /* Mantiene le proporzioni originali */
    display: block;      /* Evita spaziature strane tipiche delle immagini inline */
}

/* IMPORTANTE: Modifichiamo l'h3 esistente SOLO dentro la card */
/* Rimuoviamo il suo margine inferiore perché ora è gestito dal .project-header */
.project-card h3 {
    margin-bottom: 0;
}


/* --- STILI CURRICULUM --- */

.cv-header {
    margin-bottom: 40px;
    border-bottom: 1px solid #eee;
    padding-bottom: 20px;
}

.cv-info {
    margin-top: 10px;
}

/* Il link al CV con lo stile tratteggiato che abbiamo definito prima */
.cv-link {
    font-weight: 600;
    color: var(--primary-blue);
    text-decoration: dotted underline;
    text-underline-offset: 4px;
    margin-right: 20px;
}

.cv-link:hover {
    color: var(--accent-green);
    text-decoration: solid underline;
}

/* La data di aggiornamento in grigio leggero */
.last-update {
    font-size: 0.85rem;
    color: #888;
    font-style: italic;
    display: inline-block;
}

/* Mobile: mettiamo la data sotto il link se lo spazio è poco */
@media (max-width: 600px) {
    .last-update {
        display: block;
        margin-top: 10px;
    }
}

/* Tabs */
.tabs {
    display: flex;
    flex-wrap: wrap;      /* Rende i pannelli capaci di andare a capo */
    gap: 8px;             /* Spazio tra i pannelli */
    margin-bottom: 20px;
    border-bottom: 2px solid #eee;
    justify-content: flex-start; /* Allineati a sinistra */
}

@media (max-width: 600px) {
    .tabs {
        justify-content: center; /* Opzionale: li centra su telefoni molto piccoli */
    }
}

.tab-link {
    flex: 0 1 auto;       /* Permette ai pannelli di adattarsi alla loro scritta */
    background: none;
    border: none;
    padding: 8px 12px;    /* Leggermente più compatti per stare meglio su più righe */
    cursor: pointer;
    font-family: var(--font-title);
    font-size: 0.95rem;   /* Un pizzico più piccolo per favorire l'incastro */
    color: #666;
    border-bottom: 3px solid transparent;
    transition: all 0.3s;
}

.tab-link:hover {
    color: var(--primary-blue);
}

.tab-link.active {
    color: var(--primary-blue);
    border-bottom: 3px solid var(--primary-blue);
    font-weight: bold;
}

.tab-content {
    display: none; /* Nasconde i contenuti non attivi */
    animation: fadeIn 0.5s;
}

.tab-content.active {
    display: block;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

/* CV Items */
.cv-item {
    display: flex;
    gap: 20px;          /* Ridotto spazio tra data e contenuto */
    margin-bottom: 12px; /* Ridotto spazio tra un blocco e l'altro */
    padding-bottom: 12px;
    border-bottom: 1px solid #f0f0f0;
}

.cv-item:last-child {
    border-bottom: none;
}

.cv-item .date {
    flex: 0 0 110px;    /* Larghezza fissa leggermente ridotta */
    font-weight: 500;
    color: var(--accent-green);
    font-size: 0.95rem;
}

.cv-item .details h3 {
    margin-bottom: 2px;  /* Spazio minimo tra titolo e istituzione */
    font-size: 1.05rem;
    color: var(--text-dark);
}

.cv-item .institution {
    margin-bottom: 2px !important; /* Forza spazio minimo */
    color: #555;
    font-size: 0.95rem;
}

/* Stile specifico per i Mentori */
.cv-item .mentor {
    font-size: 0.85rem;
    color: #777;
    font-style: italic;
    margin-bottom: 0 !important;
}

.cv-item h3 {
    margin-bottom: 5px;
    font-size: 1.1rem;
}

/* Awards */
.awards-section {
    margin-top: 50px;
}

.awards-list {
    list-style: none;
    padding-left: 0;
}

.awards-list li {
    padding: 10px 0;
    border-bottom: 1px solid #eee;
    text-align: left;
}

.awards-list li::before {
    margin-right: 10px;
}


/* --- FOOTER --- */

footer {
    background-color: var(--white);
    border-top: 1px solid #ddd;
    padding: 60px 0 30px 0;
    margin-top: 50px;
}

.footer-content {
    display: flex;
    flex-direction: column;
    align-items: left; /* Centra tutto il contenuto del footer */
    text-align: left;
}

.funding-section {
    max-width: 800px; /* Limita la larghezza per una migliore leggibilità */
    margin-bottom: 40px;
}

.funding-section h3 {
    font-family: var(--font-title);
    color: var(--primary-blue);
    font-size: 1.1rem;
    margin-bottom: 15px;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.funding-section p {
    font-size: 0.9rem;
    line-height: 1.5;
    color: #555;
    text-align: left; /* Nel footer, l'allineamento centrato spesso funziona meglio del giustificato */
    margin-bottom: 20px;
    padding-left: 20px;
}

.funding-logo {
    margin-top: 20px;
}

.logo-placeholder {
    max-height: 60px; /* Altezza controllata per il logo ministeriale */
    width: auto;
    transition: filter 0.3s;
}

.logo-placeholder:hover {
    filter: grayscale(0%);
    opacity: 1;
}

.footer-bottom {
    border-top: 1px solid #eee;
    width: 100%;
    padding-top: 20px;
    font-size: 0.8rem;
    color: #999;
}

/* Adattamento mobile per il footer */
@media (max-width: 600px) {
    .funding-section {
        padding: 0 10px;
    }
}

/* --- MOBILE & TABLET --- */

/* Nascondiamo la checkbox del menu */
.menu-toggle { display: none; }

@media (max-width: 992px) {
    /* Reset globale di sicurezza per evitare scorrimento orizzontale */
    html, body {
        overflow-x: hidden;
        width: 100%;
        position: relative;
    }

    .hamburger {
        display: flex !important; /* Forza la visibilità */
        flex-direction: column;
        gap: 5px;
        cursor: pointer;
        padding: 5px;
    }

    /* Questo è il cuore del problema: le barrette devono avere altezza, larghezza e colore */
    .hamburger span {
        display: block;
        width: 25px;           /* Lunghezza delle barrette */
        height: 3px;           /* Spessore delle barrette */
        background-color: var(--primary-blue); /* Colore blu come il tuo logo */
        border-radius: 3px;    /* Arrotonda gli angoli */
        transition: all 0.3s ease;
    }

    .page-wrapper {
        flex-direction: column; /* FIX: Sidebar sopra contenuto */
        gap: 20px;
    }

    .sidebar {
        flex: none;
        width: 100%; /* FIX: Occupa tutto lo schermo */
    }

    .profile-photo {
        display: none; /* Nasconde la foto su mobile */
    }

    /* Il menu che appare deve stare dentro lo schermo */
    .nav-menu {
        position: absolute;
        top: 70px;
        left: 0;
        width: 100%; 
        background: var(--white);
        display: none;
        border-bottom: 2px solid var(--primary-blue);
        box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }

    .nav-menu ul {
        flex-direction: column;
        padding: 20px;
        text-align: center;
    }

    /* Quando la checkbox è spuntata, mostra il menu */
    .menu-toggle:checked ~ .nav-menu {
        display: block;
    }
}

/* --- RESEARCH PAGE STYLES --- */

.research-header-info {
    margin-bottom: 30px;
    font-size: 0.95rem;
    color: #666;
}

.db-link {
    font-weight: 500;
    color: var(--primary-blue) !important;
    text-decoration: none !important;
}

.db-link:hover {
    text-decoration: underline !important;
}

.research-databases {
    margin: 20px 0 40px 0;
    display: flex;
    gap: 15px;
    flex-wrap: wrap;
}

.research-databases a {
    font-weight: 500;
    font-size: 0.9rem;
    padding: 5px 12px;
    background: #f0f0f0;
    border-radius: 4px;
    text-decoration: none;
    color: var(--primary-blue);
    border: 1px solid #ddd;
}

.research-databases a:hover {
    background: var(--primary-blue);
    color: white;
}

/* Pubblicazioni */
.pub-item {
    margin-bottom: 15px; /* Spazio ridotto tra pubblicazioni */
    padding-bottom: 12px;
    border-bottom: 1px solid #f0f0f0;
}

.pub-main {
    display: block; /* Mantiene il testo compatto */
    line-height: 1.4;
    margin-bottom: 8px;
}

.pub-title {
    font-weight: 700;
    color: var(--text-dark);
}

.pub-authors {
    color: #555;
}

.pub-journal {
    font-style: italic;
    color: #888;
}

/* --- BOTTONI GHOST (VUOTI CON BORDO) --- */
.pub-buttons {
    display: flex;
    gap: 6px;
    flex-wrap: wrap; /* FIX: Evita che i bottoni buchino lo schermo */
}

.btn {
    font-size: 0.7rem;
    padding: 2px 8px;
    border-radius: 3px;
    text-decoration: none !important;
    font-weight: 600;
    background: transparent;
    transition: all 0.2s ease;
    border: 1px solid; /* Il colore è definito dalle classi specifiche */
}

.btn:hover {
    color: white !important; /* Diventa pieno solo al passaggio del mouse */
}

/* Colori specifici per i bordi e il testo */
.btn-doi { color: #d4a017; border-color: #d4a017; }
.btn-doi:hover { background: #d4a017; }

.btn-arxiv { color: #b31b1b; border-color: #b31b1b; }
.btn-arxiv:hover { background: #b31b1b; }

.btn-zenodo { color: #0072b2; border-color: #0072b2; }
.btn-zenodo:hover { background: #0072b2; }

.btn-github { color: #333; border-color: #333; }
.btn-github:hover { background: #333; }

.btn-m2 { color: #2aabd2; border-color: #2aabd2; }
.btn-m2:hover { background: #2aabd2; }

.btn-slides { color: #555; border-color: #555; }
.btn-slides:hover { background: #555; }

/* RESET UNIFORME PER MENTOR/SUPERVISOR */
.details .mentor, 
.project-card .mentor,
.mentor {
    font-family: var(--font-body) !important;
    font-size: 0.95rem !important;
    color: #333 !important;
    font-style: normal !important;
    font-weight: 400 !important;
    margin-top: 4px !important;
    display: block;
}

/* UNIFORMITÀ TITOLI TESI / TOPICS */
.details p:not(.mentor),
.project-card p:not(.mentor) {
    font-size: 0.9rem !important;
    font-style: italic !important;
    color: #555 !important;
    line-height: 1.4;
}

